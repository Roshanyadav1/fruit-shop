{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/hooks/useIdb.ts"],"sourcesContent":["import { openDB } from \"idb\";\n\nconst useIdb = () => {\n    \n  const fetchData = async (dbName: string, TName: string) => {\n    try {\n      const db = await openDB(dbName, 1, {\n        upgrade(db) {\n          db.createObjectStore(TName, { keyPath: \"id\", autoIncrement: true });\n        },\n      });\n      const tx = db.transaction(TName, \"readonly\");\n      const store = tx.objectStore(TName);\n      const result = await store.getAll();\n      return result;\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    }\n  };\n\n  const handleAddItem = async (dbName: string, TName: string, item: any) => {\n    try {\n      const db = await openDB(dbName, 1);\n      const tx = db.transaction(TName, \"readwrite\");\n      const store = tx.objectStore(TName);\n      await store.add({ item });\n      await tx.done;\n      const result = fetchData(dbName , TName)\n      return result\n    } catch (error) {\n      console.error(\"Error adding item:\", error);\n    }\n  };\n\n  const handleDeleteItem = async (dbName: string, TName: string, id : any) => {\n    try {\n      const db = await openDB(dbName, 1);\n      const tx = db.transaction(TName, 'readwrite');\n      const store = tx.objectStore(TName);\n      await store.delete(id);\n      await tx.done;\n      const result = fetchData(dbName , TName)\n      return result\n    } catch (error) {\n      console.error('Error deleting item:', error);\n    }\n  };\n\n  return {\n    fetchData,\n    handleAddItem,\n    handleDeleteItem\n  };\n};\n\nexport default useIdb;\n"],"names":[],"mappings":";;;;;;AAEA,MAAM,SAAS;IAEb,MAAM,YAAY,OAAO,QAAgB;QACvC,IAAI;YACF,MAAM,KAAK,MAAM,CAAA,GAAA,qIAAA,CAAA,SAAM,AAAD,EAAE,QAAQ,GAAG;gBACjC,SAAQ,EAAE;oBACR,GAAG,iBAAiB,CAAC,OAAO;wBAAE,SAAS;wBAAM,eAAe;oBAAK;gBACnE;YACF;YACA,MAAM,KAAK,GAAG,WAAW,CAAC,OAAO;YACjC,MAAM,QAAQ,GAAG,WAAW,CAAC;YAC7B,MAAM,SAAS,MAAM,MAAM,MAAM;YACjC,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;QACxC;IACF;IAEA,MAAM,gBAAgB,OAAO,QAAgB,OAAe;QAC1D,IAAI;YACF,MAAM,KAAK,MAAM,CAAA,GAAA,qIAAA,CAAA,SAAM,AAAD,EAAE,QAAQ;YAChC,MAAM,KAAK,GAAG,WAAW,CAAC,OAAO;YACjC,MAAM,QAAQ,GAAG,WAAW,CAAC;YAC7B,MAAM,MAAM,GAAG,CAAC;gBAAE;YAAK;YACvB,MAAM,GAAG,IAAI;YACb,MAAM,SAAS,UAAU,QAAS;YAClC,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,sBAAsB;QACtC;IACF;IAEA,MAAM,mBAAmB,OAAO,QAAgB,OAAe;QAC7D,IAAI;YACF,MAAM,KAAK,MAAM,CAAA,GAAA,qIAAA,CAAA,SAAM,AAAD,EAAE,QAAQ;YAChC,MAAM,KAAK,GAAG,WAAW,CAAC,OAAO;YACjC,MAAM,QAAQ,GAAG,WAAW,CAAC;YAC7B,MAAM,MAAM,MAAM,CAAC;YACnB,MAAM,GAAG,IAAI;YACb,MAAM,SAAS,UAAU,QAAS;YAClC,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;QACxC;IACF;IAEA,OAAO;QACL;QACA;QACA;IACF;AACF;uCAEe"}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/SectionHeading.tsx"],"sourcesContent":["const SectionHeading = ({\n  title,\n  options,\n}: {\n  title: string;\n  options: string[];\n}) => {\n  return (\n    <>\n      <div className=\"flex justify-between m-4\">\n        <div className=\" font-semibold text-lg\">{title}</div>\n        <div className=\" sm:flex sm:flex-wrap md:grid gap-4 grid-flow-col cursor-pointer\">\n          {options.map((e , i) => {\n            return (\n              <span key={i} className={`${!i ? \"text-emerald-500\" : \"\"} `}>\n                {e}\n              </span>\n            );\n          })}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default SectionHeading"],"names":[],"mappings":";;;;;;AAAA,MAAM,iBAAiB,CAAC,EACtB,KAAK,EACL,OAAO,EAIR;IACC,qBACE;kBACE,cAAA,wPAAC;YAAI,WAAU;;8BACb,wPAAC;oBAAI,WAAU;8BAA0B;;;;;;8BACzC,wPAAC;oBAAI,WAAU;8BACZ,QAAQ,GAAG,CAAC,CAAC,GAAI;wBAChB,qBACE,wPAAC;4BAAa,WAAW,CAAC,EAAE,CAAC,IAAI,qBAAqB,GAAG,CAAC,CAAC;sCACxD;2BADQ;;;;;oBAIf;;;;;;;;;;;;;AAKV;uCAEe"}},
    {"offset": {"line": 115, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 120, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/app/cart/page.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useState } from \"react\";\nimport useIdb from \"@/hooks/useIdb\";\n\nimport SectionHeading from \"@/components/SectionHeading\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport toast from \"react-hot-toast\";\n\nconst Cart = () => {\n  const [data, setData] = useState<any[]>([]);\n  const { handleDeleteItem, fetchData } = useIdb();\n\n  const getData = async () => {\n    let res: any = await fetchData(\"cart\", \"items\");\n    setData(res);\n  };\n\n  const deleteItem = async (id: any) => {\n    const result: any = await handleDeleteItem(\"cart\", \"items\", id);\n    toast.success('Item remove successfully!');\n    setData(result);\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  return (\n    <div className=\"container m-auto max-w-[650px]\">\n      <SectionHeading title=\"Your Bucket\" options={[]} />\n      <div className=\"mx-4\">\n        {data &&\n          data.map((e: any, i) => {\n            // Calculate the number of yellow stars and gray stars\n            const yellowStars = Math.floor(e.item.rating);\n            const grayStars = 5 - yellowStars;\n\n            // store the yellow stars\n            const yellowStarArray = [];\n            for (let i = 0; i < yellowStars; i++) {\n              yellowStarArray.push(\n                <svg\n                  key={i}\n                  className=\"w-4 h-4 text-yellow-300 me-1\"\n                  aria-hidden=\"true\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  fill=\"currentColor\"\n                  viewBox=\"0 0 22 20\"\n                >\n                  <path d=\"M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z\" />\n                </svg>\n              );\n            }\n\n            // store the gray stars\n            const grayStarArray = [];\n            for (let i = 0; i < grayStars; i++) {\n              grayStarArray.push(\n                <svg\n                  key={yellowStars + i}\n                  className=\"w-4 h-4 me-1 dark:text-gray-300\"\n                  aria-hidden=\"true\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  fill=\"currentColor\"\n                  viewBox=\"0 0 22 20\"\n                >\n                  <path d=\"M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z\" />\n                </svg>\n              );\n            }\n            return (\n              <>\n                <div key={i} className=\"border-2 rounded-md sm:px-4 px-2 mt-2\">\n                  <li className=\"flex py-4 overflow-auto\">\n                    <div className=\"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200\">\n                      <Image\n                        height={100}\n                        className=\"rounded-md\"\n                        priority={true}\n                        src={e.item.image}\n                        alt={e.item.name}\n                      />\n                    </div>\n\n                    <div className=\"ml-4 flex flex-1 flex-col\">\n                      <div>\n                        <div className=\"flex justify-between text-base font-medium text-gray-900\">\n                          <h3>\n                            <a>{e.item.name}</a>\n                            <div className=\"flex items-center\">\n                              {yellowStarArray}\n                              {grayStarArray}\n                              <p className=\"ms-1 text-sm font-medium text-gray-500 dark:text-gray-400\">\n                                ({e.item.rating})\n                              </p>\n                            </div>\n                          </h3>\n                          <div className=\"flex justify-between h-[40px] items-center\">\n                            <div>\n                              <span className=\" font-bold text-emerald-500\">\n                                {e.item.discountPrice}{\" \"}\n                                <del className=\"font-normal text-slate-400 ms-2\">\n                                  {e.item.originalPrice}\n                                </del>\n                              </span>\n                            </div>\n                          </div>\n                        </div>\n                        <p className=\"text-sm text-gray-500\">\n                          By {e.item.seller}\n                        </p>\n                      </div>\n                      <div className=\"flex flex-1 items-end justify-between text-sm\">\n                        <p className=\"text-gray-500\">Qty : {e.item.weight}</p>\n                        <div className=\"flex\">\n                          <button\n                            type=\"button\"\n                            onClick={() => deleteItem(e.id)}\n                            className=\"font-medium text-red-600 hover:text-red-500\"\n                          >\n                            Remove\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  </li>\n                </div>\n              </>\n            );\n          })}\n\n        {data?.length === 0 && (\n          <>\n            <div className=\"flex items-center justify-center font-bold font-mono\">\n              <div className=\"p-4\">No Data Found</div>\n              <Link href=\"/home\">\n                <button className=\"w-fit bg-emerald-500 rounded-sm text-white p-2\">\n                  Buy Product {\"->\"}\n                </button>\n              </Link>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Cart;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 448, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 457, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/idb/build/index.js"],"sourcesContent":["const instanceOfAny = (object, constructors) => constructors.some((c) => object instanceof c);\n\nlet idbProxyableTypes;\nlet cursorAdvanceMethods;\n// This is a function to prevent it throwing up in node environments.\nfunction getIdbProxyableTypes() {\n    return (idbProxyableTypes ||\n        (idbProxyableTypes = [\n            IDBDatabase,\n            IDBObjectStore,\n            IDBIndex,\n            IDBCursor,\n            IDBTransaction,\n        ]));\n}\n// This is a function to prevent it throwing up in node environments.\nfunction getCursorAdvanceMethods() {\n    return (cursorAdvanceMethods ||\n        (cursorAdvanceMethods = [\n            IDBCursor.prototype.advance,\n            IDBCursor.prototype.continue,\n            IDBCursor.prototype.continuePrimaryKey,\n        ]));\n}\nconst transactionDoneMap = new WeakMap();\nconst transformCache = new WeakMap();\nconst reverseTransformCache = new WeakMap();\nfunction promisifyRequest(request) {\n    const promise = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            request.removeEventListener('success', success);\n            request.removeEventListener('error', error);\n        };\n        const success = () => {\n            resolve(wrap(request.result));\n            unlisten();\n        };\n        const error = () => {\n            reject(request.error);\n            unlisten();\n        };\n        request.addEventListener('success', success);\n        request.addEventListener('error', error);\n    });\n    // This mapping exists in reverseTransformCache but doesn't doesn't exist in transformCache. This\n    // is because we create many promises from a single IDBRequest.\n    reverseTransformCache.set(promise, request);\n    return promise;\n}\nfunction cacheDonePromiseForTransaction(tx) {\n    // Early bail if we've already created a done promise for this transaction.\n    if (transactionDoneMap.has(tx))\n        return;\n    const done = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            tx.removeEventListener('complete', complete);\n            tx.removeEventListener('error', error);\n            tx.removeEventListener('abort', error);\n        };\n        const complete = () => {\n            resolve();\n            unlisten();\n        };\n        const error = () => {\n            reject(tx.error || new DOMException('AbortError', 'AbortError'));\n            unlisten();\n        };\n        tx.addEventListener('complete', complete);\n        tx.addEventListener('error', error);\n        tx.addEventListener('abort', error);\n    });\n    // Cache it for later retrieval.\n    transactionDoneMap.set(tx, done);\n}\nlet idbProxyTraps = {\n    get(target, prop, receiver) {\n        if (target instanceof IDBTransaction) {\n            // Special handling for transaction.done.\n            if (prop === 'done')\n                return transactionDoneMap.get(target);\n            // Make tx.store return the only store in the transaction, or undefined if there are many.\n            if (prop === 'store') {\n                return receiver.objectStoreNames[1]\n                    ? undefined\n                    : receiver.objectStore(receiver.objectStoreNames[0]);\n            }\n        }\n        // Else transform whatever we get back.\n        return wrap(target[prop]);\n    },\n    set(target, prop, value) {\n        target[prop] = value;\n        return true;\n    },\n    has(target, prop) {\n        if (target instanceof IDBTransaction &&\n            (prop === 'done' || prop === 'store')) {\n            return true;\n        }\n        return prop in target;\n    },\n};\nfunction replaceTraps(callback) {\n    idbProxyTraps = callback(idbProxyTraps);\n}\nfunction wrapFunction(func) {\n    // Due to expected object equality (which is enforced by the caching in `wrap`), we\n    // only create one new func per func.\n    // Cursor methods are special, as the behaviour is a little more different to standard IDB. In\n    // IDB, you advance the cursor and wait for a new 'success' on the IDBRequest that gave you the\n    // cursor. It's kinda like a promise that can resolve with many values. That doesn't make sense\n    // with real promises, so each advance methods returns a new promise for the cursor object, or\n    // undefined if the end of the cursor has been reached.\n    if (getCursorAdvanceMethods().includes(func)) {\n        return function (...args) {\n            // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n            // the original object.\n            func.apply(unwrap(this), args);\n            return wrap(this.request);\n        };\n    }\n    return function (...args) {\n        // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n        // the original object.\n        return wrap(func.apply(unwrap(this), args));\n    };\n}\nfunction transformCachableValue(value) {\n    if (typeof value === 'function')\n        return wrapFunction(value);\n    // This doesn't return, it just creates a 'done' promise for the transaction,\n    // which is later returned for transaction.done (see idbObjectHandler).\n    if (value instanceof IDBTransaction)\n        cacheDonePromiseForTransaction(value);\n    if (instanceOfAny(value, getIdbProxyableTypes()))\n        return new Proxy(value, idbProxyTraps);\n    // Return the same value back if we're not going to transform it.\n    return value;\n}\nfunction wrap(value) {\n    // We sometimes generate multiple promises from a single IDBRequest (eg when cursoring), because\n    // IDB is weird and a single IDBRequest can yield many responses, so these can't be cached.\n    if (value instanceof IDBRequest)\n        return promisifyRequest(value);\n    // If we've already transformed this value before, reuse the transformed value.\n    // This is faster, but it also provides object equality.\n    if (transformCache.has(value))\n        return transformCache.get(value);\n    const newValue = transformCachableValue(value);\n    // Not all types are transformed.\n    // These may be primitive types, so they can't be WeakMap keys.\n    if (newValue !== value) {\n        transformCache.set(value, newValue);\n        reverseTransformCache.set(newValue, value);\n    }\n    return newValue;\n}\nconst unwrap = (value) => reverseTransformCache.get(value);\n\n/**\n * Open a database.\n *\n * @param name Name of the database.\n * @param version Schema version.\n * @param callbacks Additional callbacks.\n */\nfunction openDB(name, version, { blocked, upgrade, blocking, terminated } = {}) {\n    const request = indexedDB.open(name, version);\n    const openPromise = wrap(request);\n    if (upgrade) {\n        request.addEventListener('upgradeneeded', (event) => {\n            upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction), event);\n        });\n    }\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event.newVersion, event));\n    }\n    openPromise\n        .then((db) => {\n        if (terminated)\n            db.addEventListener('close', () => terminated());\n        if (blocking) {\n            db.addEventListener('versionchange', (event) => blocking(event.oldVersion, event.newVersion, event));\n        }\n    })\n        .catch(() => { });\n    return openPromise;\n}\n/**\n * Delete a database.\n *\n * @param name Name of the database.\n */\nfunction deleteDB(name, { blocked } = {}) {\n    const request = indexedDB.deleteDatabase(name);\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event));\n    }\n    return wrap(request).then(() => undefined);\n}\n\nconst readMethods = ['get', 'getKey', 'getAll', 'getAllKeys', 'count'];\nconst writeMethods = ['put', 'add', 'delete', 'clear'];\nconst cachedMethods = new Map();\nfunction getMethod(target, prop) {\n    if (!(target instanceof IDBDatabase &&\n        !(prop in target) &&\n        typeof prop === 'string')) {\n        return;\n    }\n    if (cachedMethods.get(prop))\n        return cachedMethods.get(prop);\n    const targetFuncName = prop.replace(/FromIndex$/, '');\n    const useIndex = prop !== targetFuncName;\n    const isWrite = writeMethods.includes(targetFuncName);\n    if (\n    // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.\n    !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) ||\n        !(isWrite || readMethods.includes(targetFuncName))) {\n        return;\n    }\n    const method = async function (storeName, ...args) {\n        // isWrite ? 'readwrite' : undefined gzipps better, but fails in Edge :(\n        const tx = this.transaction(storeName, isWrite ? 'readwrite' : 'readonly');\n        let target = tx.store;\n        if (useIndex)\n            target = target.index(args.shift());\n        // Must reject if op rejects.\n        // If it's a write operation, must reject if tx.done rejects.\n        // Must reject with op rejection first.\n        // Must resolve with op value.\n        // Must handle both promises (no unhandled rejections)\n        return (await Promise.all([\n            target[targetFuncName](...args),\n            isWrite && tx.done,\n        ]))[0];\n    };\n    cachedMethods.set(prop, method);\n    return method;\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),\n    has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop),\n}));\n\nconst advanceMethodProps = ['continue', 'continuePrimaryKey', 'advance'];\nconst methodMap = {};\nconst advanceResults = new WeakMap();\nconst ittrProxiedCursorToOriginalProxy = new WeakMap();\nconst cursorIteratorTraps = {\n    get(target, prop) {\n        if (!advanceMethodProps.includes(prop))\n            return target[prop];\n        let cachedFunc = methodMap[prop];\n        if (!cachedFunc) {\n            cachedFunc = methodMap[prop] = function (...args) {\n                advanceResults.set(this, ittrProxiedCursorToOriginalProxy.get(this)[prop](...args));\n            };\n        }\n        return cachedFunc;\n    },\n};\nasync function* iterate(...args) {\n    // tslint:disable-next-line:no-this-assignment\n    let cursor = this;\n    if (!(cursor instanceof IDBCursor)) {\n        cursor = await cursor.openCursor(...args);\n    }\n    if (!cursor)\n        return;\n    cursor = cursor;\n    const proxiedCursor = new Proxy(cursor, cursorIteratorTraps);\n    ittrProxiedCursorToOriginalProxy.set(proxiedCursor, cursor);\n    // Map this double-proxy back to the original, so other cursor methods work.\n    reverseTransformCache.set(proxiedCursor, unwrap(cursor));\n    while (cursor) {\n        yield proxiedCursor;\n        // If one of the advancing methods was not called, call continue().\n        cursor = await (advanceResults.get(proxiedCursor) || cursor.continue());\n        advanceResults.delete(proxiedCursor);\n    }\n}\nfunction isIteratorProp(target, prop) {\n    return ((prop === Symbol.asyncIterator &&\n        instanceOfAny(target, [IDBIndex, IDBObjectStore, IDBCursor])) ||\n        (prop === 'iterate' && instanceOfAny(target, [IDBIndex, IDBObjectStore])));\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get(target, prop, receiver) {\n        if (isIteratorProp(target, prop))\n            return iterate;\n        return oldTraps.get(target, prop, receiver);\n    },\n    has(target, prop) {\n        return isIteratorProp(target, prop) || oldTraps.has(target, prop);\n    },\n}));\n\nexport { deleteDB, openDB, unwrap, wrap };\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 755, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}